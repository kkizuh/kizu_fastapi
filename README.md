# üè¶ KizuFinTech Backend

**KizuFinTech** ‚Äî —ç—Ç–æ backend-—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏—á–Ω—ã–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏.  
–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é, JWT-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é, —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤–∫–ª—é—á–∞—è –∞–¥–º–∏–Ω-—Ñ—É–Ω–∫—Ü–∏–∏).

---

## üì¶ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –ª–æ–≥–∏–Ω—É/–ø–∞—Ä–æ–ª—é
- üßæ –•—Ä–∞–Ω–µ–Ω–∏–µ JWT-—Ç–æ–∫–µ–Ω–∞
- üí∞ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- üßë –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∞–¥–º–∏–Ω)
- üìä –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ PostgreSQL
- ‚öôÔ∏è –ì–æ—Ç–æ–≤ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Android-–∫–ª–∏–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ API

---

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è         | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏                   |
|------------------|------------------------------|
| Backend          | FastAPI, Python 3.11         |
| ORM              | SQLAlchemy                   |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö      | PostgreSQL (–≤ Docker)        |
| –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è      | JWT (OAuth2PasswordBearer)   |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å     | Bcrypt (—Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π) |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ     | pytest, httpx *(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)*|
| Docker           | docker-compose               |

---

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
kizu_fastapi/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ auth.py              # JWT –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ database.py          # SQLAlchemy + PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ models.py            # ORM-–º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py           # Pydantic-—Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ transactions.py      # –†–æ—É—Ç—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ tests/               # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ .env                     # –°–µ–∫—Ä–µ—Ç—ã (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å)
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

---

## üìÇ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ:

```env
POSTGRES_DB=kizu
POSTGRES_USER=kizuuser
POSTGRES_PASSWORD=kizupass
DB_HOST=db
DB_PORT=5432
DB_NAME=kizu
SECRET_KEY=your-secret-key
ALGORITHM=HS256
```

> ‚ö†Ô∏è –î–æ–±–∞–≤—å `.env` –≤ `.gitignore`, —á—Ç–æ–±—ã –Ω–µ —Å–ª–∏–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤ Git

---

## üê≥ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker

### 1. –°–∫–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/yourname/kizu-fintech-backend.git
cd kizu-fintech-backend
```

### 2. –°–æ–∑–¥–∞–π `.env` –∏ –∑–∞–ø—É—Å—Ç–∏ backend + PostgreSQL:

```bash
docker-compose up --build
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API:

- API: `http://localhost:8000`
- Swagger: `http://localhost:8000/docs`

---

## üìö –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API (Swagger)

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

| –ú–µ—Ç–æ–¥ | URL         | –û–ø–∏—Å–∞–Ω–∏–µ        |
|-------|-------------|-----------------|
| POST  | `/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è     |
| POST  | `/login`    | –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω  |

### üí∏ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ *(–Ω—É–∂–µ–Ω JWT)*

| –ú–µ—Ç–æ–¥  | URL                    | –û–ø–∏—Å–∞–Ω–∏–µ                   |
|--------|------------------------|----------------------------|
| GET    | `/transactions`        | –°–ø–∏—Å–æ–∫ —Å–≤–æ–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π    |
| POST   | `/transactions`        | –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é        |
| DELETE | `/transactions/{id}`   | –£–¥–∞–ª–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ø–æ ID   |

### üßë –ê–¥–º–∏–Ω-—Ñ—É–Ω–∫—Ü–∏–∏

| –ú–µ—Ç–æ–¥ | URL                                 | –û–ø–∏—Å–∞–Ω–∏–µ                      |
|-------|--------------------------------------|-------------------------------|
| GET   | `/admin/users`                      | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π   |
| GET   | `/admin/users/{user_id}/transactions` | –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —é–∑–µ—Ä–∞     |

---

## üì• –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –≤ Swagger (/docs)

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ JWT

1. –û—Ç–ø—Ä–∞–≤—å `POST /login` —Å JSON:

```json
{
  "username": "testuser",
  "password": "123456"
}
```

2. –°–∫–æ–ø–∏—Ä—É–π —Ç–æ–∫–µ–Ω –∏–∑ –æ—Ç–≤–µ—Ç–∞

3. –ù–∞–∂–º–∏ "Authorize" –≤ Swagger UI ‚Üí –≤—Å—Ç–∞–≤—å:

```
Bearer <—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω>
```

–¢–µ–ø–µ—Ä—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã.

---

## üß™ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

2. –ó–∞–ø—É—Å—Ç–∏ PostgreSQL –ª–æ–∫–∞–ª—å–Ω–æ (–∏–ª–∏ —á–µ—Ä–µ–∑ PgAdmin)

3. –ù–∞—Å—Ç—Ä–æ–π `.env`, –ø–æ–¥–∫–ª—é—á–∏—Å—å –∫ –ë–î

4. –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä:

```bash
uvicorn app.main:app --reload
```

---

## ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

- `Ctrl + C` ‚Äî –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ
- `docker-compose down` ‚Äî –¥–ª—è Docker
- `docker-compose stop` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, –Ω–æ –Ω–µ —É–¥–∞–ª–∏—Ç—å

---

## üîí –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- –ò—Å–ø–æ–ª—å–∑—É–π `.env.example` –≤–º–µ—Å—Ç–æ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ `.env` –≤ Git
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É—à—å `SECRET_KEY` –≤ –æ—Ç–∫—Ä—ã—Ç—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –î–æ–±–∞–≤—å `is_admin` –¥–ª—è –∑–∞—â–∏—Ç—ã –∞–¥–º–∏–Ω-—Ñ—É–Ω–∫—Ü–∏–π
- –î–æ–±–∞–≤—å HTTPS, –µ—Å–ª–∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—à—å –≤ –ø—Ä–æ–¥

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –æ–±—É—á–µ–Ω–∏—è, –¥–∏–ø–ª–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏ pet-–ø—Ä–∞–∫—Ç–∏–∫–∏.  
MIT ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ.
